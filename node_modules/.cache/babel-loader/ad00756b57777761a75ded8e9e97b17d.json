{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Larissa\\\\Downloads\\\\Nova pasta (8)\\\\Nova pasta\\\\Nova pasta\\\\cepMais-main\\\\frontend\\\\src\\\\pages\\\\Home\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport HashLoader from 'react-spinners/HashLoader';\nimport api from '../../services/api';\nimport Header from '../components/header';\nimport { Title, Form, Card, CardHistory, TitleHistory, Error, ContainerLoader } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [isLoading, setisLoading] = useState(false);\n  const [cep, setCep] = useState('');\n  const [inputError, setInputError] = useState('');\n  const [dataCep, setDataCep] = useState();\n  const [listDataCep, setListDataCep] = useState(() => {\n    const cepStoraged = localStorage.getItem('@cepredis:cep');\n\n    if (cepStoraged) {\n      return JSON.parse(cepStoraged);\n    }\n\n    return [];\n  });\n  useEffect(() => {\n    localStorage.setItem('@cepredis:cep', JSON.stringify(listDataCep));\n  }, [listDataCep]);\n  const handleAddCep = useCallback(async event => {\n    event.preventDefault();\n\n    if (!cep) {\n      setInputError('Informe um CEP para realizar sua busca');\n      return;\n    }\n\n    try {\n      setisLoading(true);\n      const response = await api.post('/cep', {\n        requestCep: cep\n      });\n      const dataCepFromApi = response.data;\n      setDataCep(dataCepFromApi);\n      const isCepAlreadySearched = listDataCep.some(cepData => cepData.cep === dataCepFromApi.cep);\n      if (!isCepAlreadySearched) setListDataCep([dataCepFromApi, ...listDataCep]);\n      setCep('');\n      setInputError('');\n      setisLoading(false);\n    } catch (error) {\n      setisLoading(false);\n      setInputError('Erro ao digitar o CEP. Verifique se é um CEP válido');\n    }\n  }, [cep, listDataCep]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: \"Busque seu CEP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      hasError: !!inputError,\n      onSubmit: handleAddCep,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: cep,\n        onChange: e => setCep(e.target.value),\n        placeholder: \"Informe um CEP. Ex: 01001000 ou 01001-000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: [\"Buscar \", /*#__PURE__*/_jsxDEV(FiSearch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 18\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), inputError && /*#__PURE__*/_jsxDEV(Error, {\n      children: inputError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 22\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(ContainerLoader, {\n      children: /*#__PURE__*/_jsxDEV(HashLoader, {\n        color: \"blue\",\n        size: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      children: dataCep && /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"maps\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"CEP: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.cep\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 26\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Bairro: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.bairro\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 29\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Complemento: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.complemento\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 34\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Localidade: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.localidade\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Logradouro: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.logradouro\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"UF: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.uf\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"DDD: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.ddd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 26\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"IBGE: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.ibge\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 27\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"GIA: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.gia\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"SIAFI: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: dataCep.siafi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)\n      }, dataCep.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TitleHistory, {\n      children: \"Hist\\xF3rico de consultas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardHistory, {\n      children: listDataCep.map(cepData => /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"maps\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"CEP: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.cep\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 24\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Bairro: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.bairro\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 27\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Complemento: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.complemento\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 32\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Localidade: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.localidade\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 31\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Logradouro: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.logradouro\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 31\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"UF: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.uf\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"DDD: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.ddd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 24\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"IBGE: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.ibge\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 25\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"GIA: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.gia\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"SIAFI: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cepData.siafi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, cepData.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"uouYcAYxRCWzZgsVd0KqMtB0bJM=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Larissa/Downloads/Nova pasta (8)/Nova pasta/Nova pasta/cepMais-main/frontend/src/pages/Home/index.tsx"],"names":["React","useState","useEffect","useCallback","FiSearch","HashLoader","api","Header","Title","Form","Card","CardHistory","TitleHistory","Error","ContainerLoader","Home","isLoading","setisLoading","cep","setCep","inputError","setInputError","dataCep","setDataCep","listDataCep","setListDataCep","cepStoraged","localStorage","getItem","JSON","parse","setItem","stringify","handleAddCep","event","preventDefault","response","post","requestCep","dataCepFromApi","data","isCepAlreadySearched","some","cepData","error","e","target","value","bairro","complemento","localidade","logradouro","uf","ddd","ibge","gia","siafi","id","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, FormEvent, useCallback } from 'react';\n\nimport { FiSearch } from 'react-icons/fi';\nimport HashLoader from 'react-spinners/HashLoader';\n\nimport api from '../../services/api';\nimport Header from '../components/header';\n\nimport {\n  Title,\n  Form,\n  Card,\n  CardHistory,\n  TitleHistory,\n  Error,\n  ContainerLoader,\n} from './styles';\n\ninterface IDataCep {\n  id: string;\n  cep: string;\n  logradouro: string;\n  complemento: string;\n  bairro: string;\n  localidade: string;\n  uf: string;\n  ibge: string;\n  gia: string;\n  ddd: string;\n  siafi: string;\n}\n\nconst Home: React.FC = () => {\n  const [isLoading, setisLoading] = useState(false);\n  const [cep, setCep] = useState('');\n  const [inputError, setInputError] = useState('');\n  const [dataCep, setDataCep] = useState<IDataCep>();\n  const [listDataCep, setListDataCep] = useState<IDataCep[]>(() => {\n    const cepStoraged = localStorage.getItem('@cepredis:cep');\n\n    if (cepStoraged) {\n      return JSON.parse(cepStoraged);\n    }\n    return [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('@cepredis:cep', JSON.stringify(listDataCep));\n  }, [listDataCep]);\n\n  const handleAddCep = useCallback(\n    async (event: FormEvent<HTMLFormElement>): Promise<void> => {\n      event.preventDefault();\n\n      if (!cep) {\n        setInputError('Informe um CEP para realizar sua busca');\n        return;\n      }\n\n      try {\n        setisLoading(true);\n        const response = await api.post('/cep', { requestCep: cep });\n\n        const dataCepFromApi = response.data;\n\n        setDataCep(dataCepFromApi);\n\n        const isCepAlreadySearched = listDataCep.some(\n          cepData => cepData.cep === dataCepFromApi.cep,\n        );\n\n        if (!isCepAlreadySearched)\n          setListDataCep([dataCepFromApi, ...listDataCep]);\n\n        setCep('');\n        setInputError('');\n        setisLoading(false);\n      } catch (error) {\n        setisLoading(false);\n        setInputError('Erro ao digitar o CEP. Verifique se é um CEP válido');\n      }\n    },\n    [cep, listDataCep],\n  );\n\n  return (\n    <>\n      <Header />\n      <Title>Busque seu CEP</Title>\n\n      <Form hasError={!!inputError} onSubmit={handleAddCep}>\n        <input\n          value={cep}\n          onChange={e => setCep(e.target.value)}\n          placeholder=\"Informe um CEP. Ex: 01001000 ou 01001-000\"\n        />\n        <button type=\"submit\">\n          Buscar <FiSearch />{' '}\n        </button>\n      </Form>\n\n      {inputError && <Error>{inputError}</Error>}\n\n      {isLoading ? (\n        <ContainerLoader>\n          <HashLoader color=\"blue\" size={40} />\n        </ContainerLoader>\n      ) : (\n        <Card>\n          {dataCep && (\n            <a key={dataCep.id} href=\"maps\">\n              <ul>\n                <div>\n                  <li>\n                    CEP: <span>{dataCep.cep}</span>{' '}\n                  </li>\n                  <li>\n                    Bairro: <span>{dataCep.bairro}</span>{' '}\n                  </li>\n                  <li>\n                    Complemento: <span>{dataCep.complemento}</span>{' '}\n                  </li>\n                  <li>\n                    Localidade: <span>{dataCep.localidade}</span>{' '}\n                  </li>\n                  <li>\n                    Logradouro: <span>{dataCep.logradouro}</span>{' '}\n                  </li>\n                </div>\n                <div>\n                  <li>\n                    UF: <span>{dataCep.uf}</span>\n                  </li>\n                  <li>\n                    DDD: <span>{dataCep.ddd}</span>{' '}\n                  </li>\n                  <li>\n                    IBGE: <span>{dataCep.ibge}</span>{' '}\n                  </li>\n                  <li>\n                    GIA: <span>{dataCep.gia}</span>\n                  </li>\n                  <li>\n                    SIAFI: <span>{dataCep.siafi}</span>\n                  </li>\n                </div>\n              </ul>\n            </a>\n          )}\n        </Card>\n      )}\n\n      <TitleHistory>Histórico de consultas</TitleHistory>\n\n      <CardHistory>\n        {listDataCep.map(cepData => (\n          <a key={cepData.id} href=\"maps\">\n            <ul>\n              <div>\n                <li>\n                  CEP: <span>{cepData.cep}</span>{' '}\n                </li>\n                <li>\n                  Bairro: <span>{cepData.bairro}</span>{' '}\n                </li>\n                <li>\n                  Complemento: <span>{cepData.complemento}</span>{' '}\n                </li>\n                <li>\n                  Localidade: <span>{cepData.localidade}</span>{' '}\n                </li>\n                <li>\n                  Logradouro: <span>{cepData.logradouro}</span>{' '}\n                </li>\n              </div>\n              <div>\n                <li>\n                  UF: <span>{cepData.uf}</span>\n                </li>\n                <li>\n                  DDD: <span>{cepData.ddd}</span>{' '}\n                </li>\n                <li>\n                  IBGE: <span>{cepData.ibge}</span>{' '}\n                </li>\n                <li>\n                  GIA: <span>{cepData.gia}</span>\n                </li>\n                <li>\n                  SIAFI: <span>{cepData.siafi}</span>\n                </li>\n              </div>\n            </ul>\n          </a>\n        ))}\n      </CardHistory>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}